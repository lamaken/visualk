<!DOCTYPE HTML>
<html lang="en-US">
    <head>
        <meta charset="UTF-8">
        <title>timerDemo</title>
        <script type="text/javascript" src = "njs/simpleGame.js"></script>
        <script type="text/javascript" src="njs/debug.js"></script>
        <script type="text/javascript" src="njs/tubsworld.js"></script>
        <script type="text/javascript" src="njs/animation.js"></script>
        <script type="text/javascript" src="njs/circuitdyn.js"></script>
        <script type="text/javascript" src="njs/index.js"></script>
        <script type="text/javascript" src="njs/Manifest.js"></script>

        <script type="text/javascript" src="njs/draw.js"></script>
        <link rel="stylesheet" type="text/css" href="css/hello.css">


        <script type="text/javascript">
            var timer;
            var output;
            var game;
            var stop = false;
            function is_touch_device() {
                return (('ontouchstart' in window)
                        || (navigator.MaxTouchPoints > 0)
                        || (navigator.msMaxTouchPoints > 0));
            }

            function mainInit() {

                var el = document.getElementById("myCanvas");
                if (!is_touch_device()) {
                    el.addEventListener("click", swapp, false);
                } else
                    el.addEventListener("touchstart", swapp, false);

                start();
                //drawAll();



                game = new Scene();
                output = document.getElementById("output");
                timer = new Timer();
                timer.reset();
                game.start();

            } // end init

            function update() {
                game.hide();
                currentTime = timer.getElapsedTime();
                output.innerHTML = currentTime;
                //debug.output("time:" + currentTime);
                if (!stop)
                    animate2();

            } // end update

            function reset() {
                timer.reset();
                stop = !stop;
            } // end reset
        </script>
    </head>
    <body onload = "mainInit()">

        <div id="img">
            <canvas id="myCanvas" width="450" height="450"> 
                <!-- TODO:Pensar en fer amb els tamanys -->
                NO CANVAS!!
            </canvas>
        </div>





        <div id="debug">
            error
        </div>
        <script>
            var debug = new Debug("player");
            var animation_debug = new Debug("aniamte.js");
            debug.output("get clone and go!");
            debug.output("git@github.com:lamaken/etubsworld.git");
        </script>
        <div id="circuits">
            <div id="output">empty</div>
            <button onclick = "reset()">
                reset timer
            </button>
            <form name="fmain">
                <select name="circuits">
                    <option value="default.xml">tubsworld</option>
                    <option value="circuit1.xml">circuit1</option>
                    <option value="circuit1b.xml">circuit1b</option>
                    <option value="circuit2.xml">circuit2</option>
                    <option value="circuit3.xml">circuit3</option>
                    <option value="circuit4.xml">circuit4</option>
                    <option value="circuit4b.xml">circuit4b</option>
                    <option value="circuit5.xml">circuit5</option>
                    <option value="circuit6.xml">circuit6</option>
                    <option value="circuit7.xml">circuit7</option>
                    <option value="circuit8.xml" selected="selected">circuit8</option>
                    <option value="circuit9.xml">circuit9</option>
                    <option value="circuit10.xml">circuit10</option>
                    <option value="circuit11.xml">circuit11</option>
                    <option value="circuit12.xml">circuit12</option>
                    <option value="ellipse.xml">elipse</option>

                </select>
            </form>
            <input  type="button" onclick="mainInit()" value="LOAD" />
        </div>    </body>
</html>